import {
  BottomSheetModal,
  BottomSheetModalProvider,
} from "@gorhom/bottom-sheet";
import { NativeStackScreenProps } from "@react-navigation/native-stack";
import { FlashList, ListRenderItem } from "@shopify/flash-list";
import { useCallback, useMemo, useRef, useState } from "react";
import { StyleSheet, Text, View } from "react-native";
import Svg, { SvgProps, G, Path, Defs, ClipPath } from "react-native-svg";
import { RootStackParamList } from "./root-stack-param-list";
import { ScreenLayout } from "./screen-layout";
import { useLang } from "@/modules/lang";
import {
  Password,
  PasswordCard,
  PasswordGeneratorCopySheet,
  searchPasswords,
  usePasswordStore,
  usePasswordStoreContainerStore,
} from "@/modules/password";
import {
  ScalablePressable,
  useTheme,
  DiceIcon,
  TextInput,
  SearchIcon,
  LockIcon,
  PlusIcon,
  SettingsIcon,
} from "@/ui";

export function MyPasswordsScreen({
  navigation,
}: NativeStackScreenProps<RootStackParamList, "MyPasswords">) {
  const { colors, scale } = useTheme();
  const lang = useLang();
  const { clearPasswordStore } = usePasswordStoreContainerStore((state) => ({
    clearPasswordStore: state.clearPasswordStore,
  }));

  const passwordGeneratorSheetRef = useRef<BottomSheetModal>(null);
  const handlePresentPasswordGeneratorPress = useCallback(() => {
    passwordGeneratorSheetRef.current?.present();
  }, []);

  let { passwords } = usePasswordStore((state) => ({
    passwords: state.passwords,
  }));

  const passwordNames = passwords.map((password) => password.name);
  passwords = useMemo(
    () =>
      passwords.sort((password) => {
        if (password.name < password.name) {
          return -1;
        }
        if (password.name > password.name) {
          return 1;
        }
        return 0;
      }),
    // eslint-disable-next-line react-hooks/exhaustive-deps
    [passwordNames],
  );

  const [searchQuery, setSearchQuery] = useState("");
  passwords = useMemo(
    () => searchPasswords(passwords, searchQuery),
    [searchQuery, passwords],
  );

  const handlePressAddPassword = async () => {
    navigation.navigate("AddPassword");
  };

  const handleLockVaultPress = () => {
    navigation.reset({
      index: 0,
      routes: [{ name: "UnlockVault" }],
    });
    clearPasswordStore();
  };

  const handleOnOpenSettingsPress = () => {
    navigation.navigate("Settings");
  };

  const renderPassword: ListRenderItem<Password> = useCallback(
    (password) => (
      <PasswordCard
        password={password.item}
        onPress={() =>
          navigation.navigate("PasswordOverview", {
            id: password.item.id,
          })
        }
      />
    ),
    [navigation],
  );

  return (
    <BottomSheetModalProvider>
      <ScreenLayout
        header={{
          title: lang.myPasswordsScreen.headerTitle,
          separator: true,
          backButton: false,
          rightButtons: (
            <>
              <ScalablePressable onPress={handleLockVaultPress}>
                <LockIcon />
              </ScalablePressable>
              <ScalablePressable onPress={handlePresentPasswordGeneratorPress}>
                <DiceIcon />
              </ScalablePressable>
              <ScalablePressable onPress={handleOnOpenSettingsPress}>
                <SettingsIcon />
              </ScalablePressable>
            </>
          ),
        }}
      >
        <View
          style={{
            flex: 1,
            justifyContent: "center",
            alignItems: "center",
            gap: scale(16),
            width: "100%",
          }}
        >
          <View
            style={{
              flex: 1,
              width: "100%",
            }}
          >
            {passwords.length ? (
              <FlashList
                data={passwords}
                renderItem={renderPassword}
                keyExtractor={(password) => password.id}
                showsVerticalScrollIndicator={false}
                estimatedItemSize={85}
                ItemSeparatorComponent={() => (
                  <View style={{ height: scale(10) }} />
                )}
              />
            ) : (
              <View
                style={{
                  ...StyleSheet.absoluteFillObject,
                  justifyContent: "center",
                  alignItems: "center",
                }}
              >
                <View
                  style={{
                    gap: scale(20),
                    alignItems: "center",
                  }}
                >
                  <EmptyStateIllustration />
                  <Text
                    style={{
                      fontFamily: "Gilroy-Medium",
                      fontSize: scale(14),
                      lineHeight: scale(14 * 1.3),
                      color: colors.subtext,
                      textAlign: "center",
                    }}
                  >
                    {lang.myPasswordsScreen.emptyStateFirstLine}
                    {"\n"}
                    {lang.myPasswordsScreen.emptyStateSecondLine}
                  </Text>
                </View>
              </View>
            )}
            <ScalablePressable
              style={{
                position: "absolute",
                bottom: 0,
                end: 0,
                backgroundColor: colors.text,
                padding: scale(8),
                borderRadius: scale(16),
              }}
              onPress={handlePressAddPassword}
            >
              <PlusIcon size="xlg" color={colors.primary} />
            </ScalablePressable>
          </View>
          <TextInput
            value={searchQuery}
            onChangeText={setSearchQuery}
            placeholder={lang.myPasswordsScreen.searchPlaceholder}
            style={{
              width: "100%",
            }}
            leftIcon={<SearchIcon size="md" />}
          />
        </View>
      </ScreenLayout>
      <PasswordGeneratorCopySheet sheetRef={passwordGeneratorSheetRef} />
    </BottomSheetModalProvider>
  );
}

function EmptyStateIllustration(props: SvgProps) {
  return (
    <Svg width={241} height={180} fill="none" {...props}>
      <G clipPath="url(#a)">
        <Path
          fill="#9E616A"
          d="M175.939 171.027h-4.792l-2.28-18.483h7.072v18.483Z"
        />
        <Path
          fill="#2F2E41"
          d="M178.469 179.33h-3.437l-.613-3.245-1.571 3.245h-9.114a2.051 2.051 0 0 1-1.937-2.717c.142-.413.413-.77.772-1.018l7.279-5.027v-3.28l7.655.457.966 11.585Z"
        />
        <Path
          fill="#9E616A"
          d="m204.409 164.98-3.846 2.859-12.859-13.471 5.675-4.22 11.03 14.832Z"
        />
        <Path
          fill="#2F2E41"
          d="m211.392 170.133-2.757 2.05-2.429-2.237.676 3.541-7.314 5.438a2.046 2.046 0 0 1-2.429.013 2.05 2.05 0 0 1-.734-2.315l2.841-8.377-1.957-2.632 6.416-4.201 7.687 8.72ZM181.519 75.664s9.092 7.855 4.897 30.248l-5.122 21.941 16.703 27.709-5.326 6.478-21.713-29.991-7.868-18.456-2.208-32.85 20.637-5.079Z"
        />
        <Path
          fill="#2F2E41"
          d="m167.426 118.852-.547 8.469 1.674 36.091 7.875-1.372 1.505-25.696-10.507-17.492Z"
        />
        <Path
          fill="#FFB6B6"
          d="M66.369 175.373h4.285l2.039-16.529h-6.325v16.529Z"
        />
        <Path
          fill="#2F2E41"
          d="M65.276 173.974h1.206l4.71-1.915 2.523 1.914a5.377 5.377 0 0 1 5.379 5.379v.174l-13.818.001v-5.553Z"
        />
        <Path
          fill="#FFB6B6"
          d="m82.976 172.673 4.18.944 5.63-15.674-6.17-1.393-3.64 16.123Z"
        />
        <Path
          fill="#2F2E41"
          d="m82.217 171.067 1.177.266 5.015-.831 2.04 2.424a5.377 5.377 0 0 1 4.062 6.43l-.039.171-13.478-3.043 1.223-5.417ZM60.942 74.323c-2.01 6.06-1.797 12.637.483 19.697l.974 39.746s-1.452 26.066 3.233 35.238h6.795l3.365-37.618.422-25.249 14.567 21.302-9.278 40.95 8.363.747 15.056-44.44-18.576-43.114-25.404-7.259Z"
        />
        <Path
          fill="#E6E6E6"
          d="M139.301 57.063c5.197-4.683 12.928-7.038 19.412-4.412a32.23 32.23 0 0 0-14.485 16.732c-1.033 2.746-1.895 5.909-4.434 7.379-1.58.915-3.545.96-5.317.518-1.771-.442-3.395-1.327-4.996-2.204l-.456-.01c2.046-6.69 5.079-13.32 10.276-18.003Z"
        />
        <Path
          fill="#fff"
          d="M158.677 52.793a27.55 27.55 0 0 0-15.328 7.24 11.876 11.876 0 0 0-2.33 2.896 6.804 6.804 0 0 0-.786 3.494c.028 1.133.188 2.288-.06 3.408a4.172 4.172 0 0 1-2.073 2.705c-1.269.73-2.724.96-4.156 1.135-1.589.195-3.242.372-4.618 1.263-.166.108-.324-.157-.158-.265 2.393-1.55 5.422-.986 7.995-2.021 1.201-.483 2.263-1.33 2.639-2.612.329-1.12.165-2.313.127-3.46a7.255 7.255 0 0 1 .641-3.445 10.982 10.982 0 0 1 2.21-2.975 26.745 26.745 0 0 1 6.793-4.863 28.036 28.036 0 0 1 9.101-2.808c.196-.025.198.283.003.308Z"
        />
        <Path
          fill="#fff"
          d="M144.633 58.676a4.136 4.136 0 0 1 .456-5.333c.141-.14.364.074.223.213a3.825 3.825 0 0 0-.414 4.962c.116.16-.15.318-.265.158ZM140.143 65.85a7.967 7.967 0 0 0 5.693-1.14c.167-.107.325.158.158.265a8.288 8.288 0 0 1-5.927 1.174c-.195-.035-.119-.334.076-.299ZM152.45 54.253a2.336 2.336 0 0 0 1.75 1.366c.196.033.119.331-.076.299a2.626 2.626 0 0 1-1.939-1.507.159.159 0 0 1 .053-.211.156.156 0 0 1 .212.053Z"
        />
        <Path
          fill="#E6E6E6"
          d="m165.854 75.237-.371-.05a30.815 30.815 0 0 0-4.992-.253c-.129.002-.26.006-.389.011a32.491 32.491 0 0 0-11.655 2.683 31.562 31.562 0 0 0-4.233 2.249c-1.867 1.182-3.797 2.612-5.884 3.094a5.387 5.387 0 0 1-.659.118l-8.623-7.466c-.011-.027-.024-.052-.035-.08l-.358-.282.203-.147c.039-.029.079-.055.118-.084l.075-.055a.465.465 0 0 1 .025-.017c.022-.018.045-.033.066-.049.392-.277.786-.552 1.183-.825.001-.002.001-.002.005-.002a46.399 46.399 0 0 1 9.659-5.192c.103-.039.207-.08.313-.115a30.096 30.096 0 0 1 4.729-1.33 26.6 26.6 0 0 1 2.667-.373c2.312-.2 4.641-.035 6.901.489 4.507 1.045 8.629 3.52 11.071 7.379.062.099.123.196.184.297Z"
        />
        <Path
          fill="#fff"
          d="M165.739 75.329a27.548 27.548 0 0 0-16.596-3.449c-1.242.113-2.458.42-3.604.91a6.803 6.803 0 0 0-2.732 2.317c-.66.921-1.228 1.94-2.1 2.685a4.164 4.164 0 0 1-3.283.912c-1.453-.182-2.753-.874-4.002-1.596-1.386-.801-2.812-1.655-4.447-1.772-.198-.014-.165-.32.033-.306 2.844.203 4.922 2.476 7.6 3.2 1.249.336 2.608.3 3.68-.498.937-.697 1.524-1.747 2.184-2.686a7.26 7.26 0 0 1 2.586-2.364 10.974 10.974 0 0 1 3.556-1.045c2.778-.37 5.596-.3 8.352.207a28.042 28.042 0 0 1 8.957 3.237c.172.098-.013.345-.184.248Z"
        />
        <Path
          fill="#fff"
          d="M150.984 71.57a4.135 4.135 0 0 1 3.575-3.983c.197-.026.247.278.05.304a3.826 3.826 0 0 0-3.318 3.712c-.004.199-.311.165-.307-.033ZM143.08 74.596a7.966 7.966 0 0 0 5.232 2.517c.198.015.164.322-.033.307a8.285 8.285 0 0 1-5.439-2.63c-.135-.147.106-.34.24-.194ZM159.888 72.746a2.347 2.347 0 0 0 .575 2.144c.137.144-.104.337-.24.193a2.619 2.619 0 0 1-.641-2.37.155.155 0 0 1 .058-.103.157.157 0 0 1 .112-.034c.04.004.077.025.103.056a.15.15 0 0 1 .033.114Z"
        />
        <Path
          fill="#E6E6E6"
          d="M14.397 175.072c-.405 1.519-1.469 2.784-2.753 3.705-.21.151-.424.29-.642.421-.067.039-.134.081-.204.118-.075.044-.15.086-.226.125H4.534c-.11-.22-.215-.444-.321-.664-2.588-5.438-4.405-11.306-4.096-17.283a22.13 22.13 0 0 1 1.444-6.77c1.658-4.318 4.684-8.056 8.846-9.938.104-.047.213-.095.319-.14l-.1.358a30.914 30.914 0 0 0-.944 4.91 32.401 32.401 0 0 0 .997 12.306l.008.028c.237.857.512 1.701.826 2.532.245.656.51 1.303.801 1.94 1.212 2.671 2.836 5.519 2.083 8.352Z"
        />
        <Path
          fill="#fff"
          d="m10.801 144.773-.176.232a27.382 27.382 0 0 0-3.227 5.516 27.304 27.304 0 0 0-2.188 8.221c-.07.659-.112 1.323-.129 1.988a11.858 11.858 0 0 0 .4 3.696c.297.983.819 1.883 1.524 2.63.07.075.14.15.214.223.056.059.118.117.176.173.564.539 1.181 1.038 1.712 1.616.243.259.462.54.656.838a4.158 4.158 0 0 1 .446 3.378c-.38 1.412-1.248 2.604-2.135 3.74-.444.57-.902 1.145-1.298 1.754-.146.217-.28.438-.402.664h-.352c.117-.226.246-.447.385-.664 1.02-1.606 2.468-2.985 3.219-4.752.508-1.192.662-2.543.02-3.713a4.945 4.945 0 0 0-.679-.943c-.51-.578-1.122-1.072-1.678-1.594a8.95 8.95 0 0 1-.407-.405 6.976 6.976 0 0 1-1.575-2.484 10.957 10.957 0 0 1-.541-3.666 24.342 24.342 0 0 1 .15-2.691 28.13 28.13 0 0 1 5.665-13.972c.12-.156.34.061.22.215Z"
        />
        <Path
          fill="#fff"
          d="M5.029 158.863a4.13 4.13 0 0 1-3.449-4.093c0-.04.017-.078.045-.107a.156.156 0 0 1 .214-.004c.03.027.047.064.05.104a3.828 3.828 0 0 0 3.215 3.801c.196.032.12.331-.075.299ZM6.927 167.111a7.965 7.965 0 0 0 3.22-4.831c.042-.194.34-.119.299.075a8.286 8.286 0 0 1-3.36 5.021c-.164.114-.321-.152-.159-.265ZM7.429 150.208a2.342 2.342 0 0 0 2.203-.271c.162-.115.319.15.158.265a2.625 2.625 0 0 1-2.437.305.16.16 0 0 1-.112-.187.156.156 0 0 1 .188-.112Z"
        />
        <Path
          fill="#E6E6E6"
          d="M31.744 155.567c-.098.076-.198.151-.296.229a30.806 30.806 0 0 0-3.975 3.632l-.003.003a32.477 32.477 0 0 0-6.326 10.089l-.008.025-.009.022a31.964 31.964 0 0 0-1.404 4.584c-.34 1.524-.62 3.157-1.153 4.626a9.98 9.98 0 0 1-.265.664H5.894c.041-.22.086-.444.13-.664a44.747 44.747 0 0 1 2.943-9.408c.045-.101.09-.201.14-.302a30.258 30.258 0 0 1 2.403-4.285v-.001l.001-.001h.002a26.307 26.307 0 0 1 1.62-2.147 22.067 22.067 0 0 1 5.225-4.534c.011-.008.025-.014.036-.022 3.92-2.432 8.565-3.59 13.007-2.588h.002c.115.025.227.05.341.078Z"
        />
        <Path
          fill="#fff"
          d="M31.73 155.716c-.095.025-.19.053-.282.08a27.598 27.598 0 0 0-5.63 2.309 27.412 27.412 0 0 0-6.912 5.343l-.068.07c-.446.48-.876.98-1.284 1.494a11.934 11.934 0 0 0-1.904 3.19 6.612 6.612 0 0 0-.365 3.018c.008.103.022.204.036.307.011.081.022.162.036.246.184 1.119.503 2.242.413 3.383a4.17 4.17 0 0 1-1.677 2.968 6.633 6.633 0 0 1-1.028.653 10.3 10.3 0 0 1-1.61.665h-1.098l.442-.126c.524-.148 1.04-.328 1.543-.539.288-.12.567-.258.838-.413 1.122-.645 2.057-1.633 2.253-2.954.17-1.155-.16-2.311-.355-3.442a7.093 7.093 0 0 1-.08-.58 6.821 6.821 0 0 1 .236-2.92 10.89 10.89 0 0 1 1.776-3.255c.478-.636.989-1.246 1.53-1.829.067-.075.137-.151.209-.226a28.18 28.18 0 0 1 6.759-5.229h.002a27.723 27.723 0 0 1 5.89-2.44h.004c.092-.028.186-.055.279-.081.192-.05.237.254.047.308Z"
        />
        <Path
          fill="#fff"
          d="M18.638 163.49a4.134 4.134 0 0 1-.289-5.345c.12-.157.371.023.25.181a3.825 3.825 0 0 0 .28 4.971c.137.143-.104.336-.24.193ZM15.188 171.219a7.966 7.966 0 0 0 5.48-1.92c.15-.129.344.111.193.241a8.287 8.287 0 0 1-5.706 1.985c-.199-.007-.164-.314.033-.306ZM25.765 158.025a2.341 2.341 0 0 0 1.923 1.11c.198.005.164.312-.034.307a2.63 2.63 0 0 1-2.13-1.224.158.158 0 0 1 .024-.216.15.15 0 0 1 .113-.033c.041.004.078.024.104.056Z"
        />
        <Path
          fill="#FFB8B8"
          d="M127.488 48.332a3.232 3.232 0 0 1-2.425 1.274 3.238 3.238 0 0 1-2.534-1.04l-10.553 4.589 1.028-5.89 9.863-3.456a3.255 3.255 0 0 1 4.621 4.523Z"
        />
        <Path
          fill="#E6E6E6"
          d="m120.446 50.17-24.51 10.918-.052-.019-27.935-9.954a9.201 9.201 0 0 1-4.127-11.936 9.19 9.19 0 0 1 13.117-4.086l20.789 12.523 20.159-2.613 2.559 5.167Z"
        />
        <Path
          fill="#CCC"
          d="M240.918 179.668a.34.34 0 0 1-.205.307.35.35 0 0 1-.127.025H.425a.333.333 0 0 1 0-.665h240.161a.35.35 0 0 1 .127.025.34.34 0 0 1 .205.308Z"
        />
        <Path
          fill="#E6E6E6"
          d="M87.557 82.854 62.85 78.902a4.716 4.716 0 0 1-2.78-6.601l1.121-2.241-.435-23.547a17.442 17.442 0 0 1 8.469-15.257l2.409-1.44 1.218-3.093 11.228.274.032 4.055 4.021 6.412v.027l-.252 34.9-1.108 3.6 1.675 4.19-.89 2.673Z"
        />
        <Path
          fill="#FFB8B8"
          d="M79.494 22.878c5.634 0 10.201-4.567 10.201-10.202 0-5.634-4.567-10.201-10.201-10.201-5.635 0-10.202 4.567-10.202 10.201 0 5.635 4.567 10.202 10.202 10.202Z"
        />
        <Path
          fill="#2F2E41"
          d="M68.87 14.9c-.304-1.281-.164-3.085.008-4.376.45-3.383 2.33-6.6 5.185-8.506a3.735 3.735 0 0 1 1.86-.74c.676-.027 1.408.334 1.615.978A3.348 3.348 0 0 1 79.427.383 5.9 5.9 0 0 1 82.115.02a9.826 9.826 0 0 1 8.197 5.859c.273.647 1.034-1.744 1.38-1.132a2.72 2.72 0 0 0 1.541 1.355c.677.189.951 2.976 1.218 2.326a3.097 3.097 0 0 1-2.962 4.32c-.689-.026-1.347-.28-2.028-.388-2.433-.39-5.013 1.374-5.534 3.783a6.697 6.697 0 0 0-.88-1.96 2.267 2.267 0 0 0-1.819-1c-.692.027-1.3.48-1.75 1.007-.448.527-.786 1.142-1.238 1.667-1.328 1.539-3.123 5.128-5.015 4.866-1.493-.207-3.94-4.073-4.355-5.823Z"
        />
        <Path
          fill="#fff"
          d="M141.162 59.892a1.995 1.995 0 0 0-1.342-2.193l-27.474-9.15a1.988 1.988 0 0 0-.818-.093l-6.886.65-3.952.376-7.291.689a1.998 1.998 0 0 0-1.782 1.672l-3.702 23.125a2.006 2.006 0 0 0 1.252 2.176l27.76 10.716a1.99 1.99 0 0 0 1.011.113l17.938-2.659a1.988 1.988 0 0 0 1.681-1.675l3.605-23.747Z"
        />
        <Path
          fill="#111"
          d="m89.796 75.514 27.76 10.715a.251.251 0 0 0 .128.015l17.935-2.658a.245.245 0 0 0 .14-.07.245.245 0 0 0 .071-.14l3.606-23.747a.25.25 0 0 0-.167-.274l-.185-.063-27.29-9.085a.246.246 0 0 0-.102-.013l-16.796 1.59-1.333.124a.252.252 0 0 0-.222.21L89.64 75.24a.25.25 0 0 0 .156.273Z"
        />
        <Path
          fill="#2F2E41"
          d="m94.897 51.783 16.795-1.589a.244.244 0 0 1 .064.003.212.212 0 0 1 .039.01l27.29 9.085-7.199.762-2.694.284-7.666.81a.517.517 0 0 1-.067 0l-.044-.013-26.519-9.352Z"
        />
        <Path
          fill="#3F3D56"
          d="m89.166 77.145 27.76 10.715c.131.05.267.086.405.106.201.034.406.036.608.008l17.935-2.658a1.99 1.99 0 0 0 1.683-1.677l3.604-23.747c.053-.35.013-.708-.117-1.038a1.956 1.956 0 0 0-.689-.882 1.999 1.999 0 0 0-.535-.272l-.033-.012-27.439-9.139a2.52 2.52 0 0 0-.343-.083 1.975 1.975 0 0 0-.478-.01l-6.885.65-3.951.376-7.293.689a1.98 1.98 0 0 0-1.495.918 1.995 1.995 0 0 0-.285.752l-3.705 23.126a2.009 2.009 0 0 0 1.253 2.178Zm2.943-25.224a1.48 1.48 0 0 1 .355-.746 1.484 1.484 0 0 1 .98-.507l12.278-1.16 5.853-.556c.039-.005.076-.004.112-.006.089-.002.178.005.265.02.08.01.159.029.236.056l27.472 9.15.062.023c.25.093.469.253.635.462a1.462 1.462 0 0 1 .312 1.157l-3.607 23.75a1.494 1.494 0 0 1-1.258 1.257l-17.938 2.658a1.51 1.51 0 0 1-.76-.087L89.346 76.68a1.508 1.508 0 0 1-.938-1.632l3.701-23.127Z"
        />
        <Path
          fill="#3F3D56"
          d="M92.403 50.636a.246.246 0 0 1 .11-.132c.012-.004.024-.012.036-.016a.244.244 0 0 1 .174-.003l.578.204 28.228 9.957 6.606-.698 3.697-.39 7.825-.828.7-.073.136-.015a.25.25 0 0 1 .265.182.246.246 0 0 1-.026.194.251.251 0 0 1-.189.122l-.952.1-7.705.814-2.694.284-7.666.81a.551.551 0 0 1-.068 0 1.201 1.201 0 0 0-.043-.014L92.652 50.992l-.097-.034a.254.254 0 0 1-.152-.32Z"
        />
        <Path
          fill="#3F3D56"
          d="M117.407 88.039a.25.25 0 0 1-.207-.284l4.052-26.893a.249.249 0 0 1 .284-.21l.002.001a.25.25 0 0 1 .208.284l-4.053 26.892a.248.248 0 0 1-.099.164.248.248 0 0 1-.185.046h-.002ZM127.68 86.333l-2.696.284 3.153-26.67s3.6-.651 3.696-.39c.059.156-4.128 26.605-4.153 26.776Z"
        />
        <Path
          fill="#3F3D56"
          d="m92.555 50.956-.072 12.162 21.531 8.204 7.732-10.386-29.19-9.98ZM140.357 58.657a1.479 1.479 0 0 0-.697-.485l-27.471-9.15a1.423 1.423 0 0 0-.237-.058 1.388 1.388 0 0 0-.265-.02l.045-.278.275-.2 6.523-4.722 21.786 6.676.038 7.552.003.685Z"
        />
        <Path
          fill="#fff"
          d="M93.653 70.48c.03.004.061.01.09.02l8.43 2.768a.422.422 0 0 1 .058.772.42.42 0 0 1-.32.024l-8.429-2.768a.42.42 0 0 1 .17-.815Z"
        />
        <Path
          fill="#F2F2F2"
          d="M127.661 121.501a3.35 3.35 0 1 0 0-6.7 3.35 3.35 0 0 0 0 6.7ZM42.238 133.785a3.35 3.35 0 1 0 0-6.7 3.35 3.35 0 0 0 0 6.7ZM112.028 22.957a3.35 3.35 0 1 0 0-6.7 3.35 3.35 0 0 0 0 6.7Z"
        />
        <Path
          fill="#FFB8B8"
          d="M117.524 75.408a3.234 3.234 0 0 1-3.828-.959 3.232 3.232 0 0 1-.612-1.262l-11.449-1.157 3.777-4.636 10.293 1.81a3.256 3.256 0 0 1 1.819 6.204Z"
        />
        <Path
          fill="#E6E6E6"
          d="m110.482 73.569-26.718-2.462-.037-.042-19.5-22.343a9.201 9.201 0 0 1 2.237-12.43 9.19 9.19 0 0 1 13.44 2.85l12.01 21.09 18.862 7.578-.294 5.759Z"
        />
        <Path
          fill="#2F2E41"
          d="M177.544 30.601c-.664-4.867-1.496-10.092-4.928-13.605a11.55 11.55 0 0 0-12.901-2.501 11.543 11.543 0 0 0-3.778 2.673c-2.498 2.666-3.602 6.409-3.703 10.061-.101 3.653.713 7.264 1.615 10.805a33.3 33.3 0 0 0 13.898-2.736c1.096-.476 2.175-1.013 3.333-1.308 1.157-.295 1.983.447 3.06.964l.591-1.132c.484.9 1.983.634 2.527-.232.543-.867.424-1.976.286-2.989Z"
        />
        <Path
          fill="#9E616A"
          d="m158.615 57.766-19.507.417a3.087 3.087 0 0 0-5.613.612 3.083 3.083 0 0 0 .9 3.247 3.085 3.085 0 0 0 3.334.489c2.587.147 22.828 3.02 24.035 1.168 1.226-1.879 7.768-8.51 7.768-8.51l-5.029-7.16-5.888 9.737ZM163.368 35.416a9.165 9.165 0 0 0 9.165-9.165 9.165 9.165 0 0 0-9.165-9.165 9.165 9.165 0 0 0-9.165 9.165 9.165 9.165 0 0 0 9.165 9.165Z"
        />
        <Path
          fill="#3F3D56"
          d="M178.047 43.885c-1.08-2.15-1.604-4.805-3.907-5.502-1.555-.47-7.843.235-9.261 1.03-2.357 1.32-.221 3.797-1.611 6.114-1.512 2.518-5.62 7.573-7.132 10.092-1.039 1.732 2.461 6.814 1.899 8.754-.561 1.94-.589 4.117.369 5.895.856 1.592-.383 3 .479 4.589.896 1.652 1.995 7.831 1.161 9.516l-.558 1.675c5.54.325 10.199-6.294 15.705-6.991 1.368-.173 2.788-.4 3.915-1.193 1.66-1.17 2.316-3.291 2.726-5.28a44.472 44.472 0 0 0-3.785-28.699Z"
        />
        <Path
          fill="#9E616A"
          d="M186.354 66.582c-.771-2.107-2.169-11.317-2.169-11.317l-8.744-.256 4.275 10.544-11.666 16.332.061.1a3.085 3.085 0 1 0 2.587 3.279.214.214 0 0 0 .268-.046c1.298-1.63 16.16-16.53 15.388-18.636Z"
        />
        <Path
          fill="#3F3D56"
          d="M187.243 60.766c-.802-3.388-1.611-6.794-2.964-10.002-1.353-3.207-3.291-6.237-6.015-8.404-.871-.693-1.845-1.304-2.937-1.52-1.092-.215-2.323.026-3.09.833-1.227 1.29-.858 3.362-.408 5.085l3.982 15.243 11.498-1.219-.066-.016Z"
        />
        <Path
          fill="#2F2E41"
          d="M174.599 27.522c-.338-2.217-.691-4.452-1.483-6.54-.793-2.088-2.071-4.043-3.905-5.226-2.903-1.872-6.661-1.51-9.916-.434-2.517.833-4.974 2.1-6.749 4.134-1.775 2.036-2.772 4.94-2.112 7.601l10.416-2.46-.38.268a8.378 8.378 0 0 1 4.475 5.832 8.692 8.692 0 0 1-1.833 7.216l7.103-2.52c1.462-.518 3.026-1.116 3.892-2.445 1.005-1.542.772-3.586.492-5.426Z"
        />
      </G>
      <Defs>
        <ClipPath id="a">
          <Path fill="#fff" d="M.083 0h240.834v180H.083z" />
        </ClipPath>
      </Defs>
    </Svg>
  );
}
